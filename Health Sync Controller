function onload()
    seconds=0 frame=0
    DMHealthCounterGUIDs_t = {'591edd','1a039e','2513de','0c5edf','283218','af016f'}
    DMHealthCounters = {}
    for i=1,6 do
        DMHealthCounters[i] = getObjectFromGUID(DMHealthCounterGUIDs_t[i])
    end
    PlayerHealthCounterGUIDs_t = {'bf1d7e','c8a982','3503be','5d1212','2734fd','c89e65'}
    PlayerHealthCounters = {}
    for i=1,6 do
        PlayerHealthCounters[i] = getObjectFromGUID(PlayerHealthCounterGUIDs_t[i])
    end

    DMIsHealthController = getObjectFromGUID('e4fb05')
    PlayerIsHealthController = getObjectFromGUID('f7eb09')
    if DMIsHealthController.getColorTint == {0,1,0} then
        self.setVar('healthController','DM')
    else self.setVar('healthController','Player')
    end
end

function update()
    frame = frame + 1 --[[ Counts Frames ]]--
    if frame%60==0 then  --[[Every 60 Frames]]--
        seconds=seconds+1 --[[Adds a second]]--
        if seconds%2==0 then updateCounters()
        end
    end
end

function updateCounters()
    if healthController=='DM' then
        for i=1,6 do
            PlayerHealthCounters[i].setValue(DMHealthCounters[i].getValue())
        end
    else
        for i=1,6 do
            DMHealthCounters[i].setValue(PlayerHealthCounters[i].getValue())
        end
    end
end

function updateHealthController(obj)
    if obj.getVar('Controller') == 'DM' then
        healthController = 'DM'
        DMIsHealthController.setColorTint({0,1,0})
        PlayerIsHealthController.setColorTint({0,0,0})
    elseif obj.getVar('Controller') == 'Player' then
        healthController = 'Player'
        DMIsHealthController.setColorTint({0,0,0})
        PlayerIsHealthController.setColorTint({0,1,0})
    end
end
